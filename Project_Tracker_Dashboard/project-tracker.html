<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Demo Project Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/frappe-gantt/dist/frappe-gantt.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/frappe-gantt/dist/frappe-gantt.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 p-6">

  <h1 class="text-3xl font-bold mb-6">ðŸ§­ Demo Project Dashboard</h1>

  <!-- Project Selector -->
  <div class="mb-6">
    <label for="projectSelect" class="block text-lg font-medium mb-2">Select Project:</label>
    <select id="projectSelect" class="w-full p-2 border rounded">
      <option value="DWA">DWA</option>
      <option value="LMS">LMS</option>
      <option value="AMS">AMS</option>
      <option value="CRM">SkyLink CRM</option>
      <option value="PM">Project Management Suite</option>
    </select>
  </div>

  <!-- Team Table -->
  <div class="bg-white p-4 rounded-lg shadow-md mb-8">
    <h2 class="text-xl font-semibold mb-4">ðŸ‘¥ Project Team</h2>
    <table class="min-w-full table-auto">
      <thead class="bg-gray-200">
        <tr>
          <th class="px-4 py-2 text-left">Role</th>
          <th class="px-4 py-2 text-left">Name</th>
        </tr>
      </thead>
      <tbody id="teamTable" class="bg-white">
        <!-- Populated by JS -->
      </tbody>
    </table>
  </div>

  <!-- Milestone Chart -->
  <div class="bg-white p-4 rounded-lg shadow-md mb-8">
    <h2 class="text-xl font-semibold mb-4">ðŸ“Š Milestone Completion</h2>
    <canvas id="milestoneChart"></canvas>
  </div>

  <!-- Gantt Chart -->
  <div class="bg-white p-4 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">ðŸ“ˆ Gantt Timeline</h2>
    <div id="gantt" class="w-full h-[400px]"></div>
  </div>

  <footer class="bg-white p-4 text-center text-sm text-gray-500 border-t">
      <a href="https://sandbox-felixent.vercel.app" class="text-indigo-600 hover:underline ml-2">Go to Main-Menu</a> Â· Demo data generated locally Â· Not connected to backend | Felixent PME Class Materials
  </footer>

  <script>
    const teamData = {
      DWA: [
        { role: "Project Lead", name: "Se" },
        { role: "Stakeholder", name: "Finance Team" },
        { role: "Task Handler", name: "Aung Ko" }
      ],
      LMS: [
        { role: "Project Lead", name: "Se" },
        { role: "Stakeholder", name: "Education Team" },
        { role: "Task Handler", name: "Mya Win" }
      ],
      AMS: [
        { role: "Project Lead", name: "Se" },
        { role: "Stakeholder", name: "Accounts Dept" },
        { role: "Task Handler", name: "Zaw Lin" }
      ],
      CRM: [
        { role: "Project Lead", name: "Se" },
        { role: "Stakeholder", name: "Marketing Team" },
        { role: "Task Handler", name: "Hnin Thiri" }
      ],
      PM: [
        { role: "Project Lead", name: "Se" },
        { role: "Stakeholder", name: "Operations" },
        { role: "Task Handler", name: "Kyaw Min" }
      ]
    };

    const ganttData = {
      DWA: [{ id: 'DWA', name: 'DWA Project', start: '2025-10-01', end: '2025-11-03', progress: 95 }],
      LMS: [{ id: 'LMS', name: 'LMS Project', start: '2025-10-01', end: '2025-11-03', progress: 100 }],
      AMS: [{ id: 'AMS', name: 'AMS Project', start: '2025-10-01', end: '2025-11-03', progress: 80 }],
      CRM: [{ id: 'CRM', name: 'SkyLink CRM', start: '2025-10-01', end: '2025-11-03', progress: 85 }],
      PM: [{ id: 'PM', name: 'PM Suite', start: '2025-10-01', end: '2025-11-03', progress: 75 }]
    };

    const milestoneChart = new Chart(document.getElementById('milestoneChart').getContext('2d'), {
      type: 'bar',
      data: {
        labels: ['DWA', 'LMS', 'AMS', 'CRM', 'PM Suite'],
        datasets: [{
          label: '% Complete',
          data: [95, 100, 80, 85, 75],
          backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#6366f1', '#ef4444']
        }]
      },
      options: {
        scales: {
          y: { beginAtZero: true, max: 100 }
        }
      }
    });

    const renderTeamTable = (project) => {
      const rows = teamData[project].map(member =>
        `<tr><td class="px-4 py-2">${member.role}</td><td class="px-4 py-2">${member.name}</td></tr>`
      ).join('');
      document.getElementById('teamTable').innerHTML = rows;
    };

    const renderGantt = (project) => {
      document.getElementById('gantt').innerHTML = '';
      new Gantt("#gantt", ganttData[project], { view_mode: 'Week' });
    };

    document.getElementById('projectSelect').addEventListener('change', (e) => {
      const project = e.target.value;
      renderTeamTable(project);
      renderGantt(project);
    });

    // Initial load
    renderTeamTable('DWA');
    renderGantt('DWA');
  </script>

</body>
</html>
